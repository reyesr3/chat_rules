<link rel="stylesheet" href="../css/chat.css">
<div class="container">
    
    <h1>Hello {{ currentUser }}</h1>
    <h1>{{ room }}</h1>
    <div layout="row">
      <md-sidenav md-component-id="left" class="md-sidenav-left">
          <md-input-container>
            <form ng-submit="selectChatRoom()">
                <label for="testInput">Create a New Room</label>
                <input id="testInput" type="text" ng-model="newChat.room" md-autofocus>
                <button type="submit" md-button>Submit</button>
            </form>
                
                <div id="chatroom_display" ng-hide="hideRoom">
                </div>

                <div id="other_rooms">
                    <form ng-submit="pickRoom()">
                        <select ng-model="chooseRoom.room" ng-options="openRoom for openRoom in openRooms"></select>
                        <button type="submit" md-button>Select Room</button>
                    </form>
                </div>
                <button type="submit" ng-click="leaveRoom()" md-button>Leave</button>
                <button type="submit" ng-click="logout()" md-button>Logout</button>
          </md-input-container>
      </md-sidenav>
        <md-button ng-click="openLeftMenu()">
          Menu
        </md-button>
    </div>

    <div id="user_list">
        <div class="userList">
            <ul style="width:100px; height:38.9%; background-color:lightgrey">
               <li ng-repeat="user in users">{{ user }}</li>
            </ul>
        </div>
    </div>
    <div id="message_div">
        <table>
            <tbody>
                <tr ng-repeat="msg in messages">
                    <td ng-bind="msg.name"></td>
                    <td ng-bind="msg.text"></td>
                </tr>
            </tbody>
        </table>
    </div>
        <div class="message_bar">
            <form ng-submit="send()">
                <textarea class="textsomething" ng-model="text" placeholder="Write something {{ currentUser.name }}" autofocus=true></textarea> <br/>
                <input type="submit" id="round_button" value="Send" ng-disabled="!text">
            </form>
        </div>
</div>








<!-- <div layout="row" layout-wrap>
  <md-content layout="column" flex="80" flex-sm="100">
    <md-content style="height: 60vh;">
      {{roomItemCtrl.users2}}
      <md-list scroll="roomItemCtrl.messages">
        <md-subheader id="message_div" class="md-info">Messages in room {{ room }}</md-subheader>
        <message ng-repeat="message in roomItemCtrl.messages" message="message"
                 author="roomItemCtrl.allusers[message.authorId]"
                 ng-class="{ 'repeated-author' : $index>0 && message.authorId == roomItemCtrl.messages[$index-1].authorId}"></message>
      </md-list>
    </md-content>
    <md-content layout-padding layout="column">
      <md-input-container class="md-accent">
        <label>New Message</label>
        <input ng-enter="roomItemCtrl.createMessage()" ng-model="roomItemCtrl.newMessage" md-maxlength="350"/>
      </md-input-container>
    </md-content>
  </md-content>
  <md-content class="side-nav room-users" hide-sm layout="column" flex="18">
    <md-list layout-fill>
      <md-subheader class="md-accent">Available users</md-subheader>

        <md-list-item class="md-2-line contact-item selected" ng-repeat="(index, contact) in roomItemCtrl.users">
        <img ng-src='{{ contact.imageUrl }}' class="md-avatar" alt="{{contact.name}}"/>
        <div class="md-list-item-text compact">
          <h3>{{contact | fullname }}</h3>
          <p>@{{contact.username}}</p>
        </div>
        <md-divider></md-divider>
      </md-list-item>
    </md-list>
  </md-content>
</div> -->
